
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8" />
            <title>Error</title>
            <script type="module">
              const error = {"message":"C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\src\\ResearchAssistant.tsx: Unterminated string constant. (438:38)\n\n  436 |                             value={years}\n  437 |                             onChange={(e) => setYears(Number(e.target.value))}\n> 438 |                             className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-\n      |                                       ^","stack":"    at constructor (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:365:19)\n    at TypeScriptParserMixin.raise (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:6599:19)\n    at TypeScriptParserMixin.jsxReadString (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4503:20)\n    at TypeScriptParserMixin.getTokenFromCode (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4788:14)\n    at TypeScriptParserMixin.getTokenFromCode (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:9987:11)\n    at TypeScriptParserMixin.nextToken (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:5782:10)\n    at TypeScriptParserMixin.next (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:5692:10)\n    at TypeScriptParserMixin.eat (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:5696:12)\n    at TypeScriptParserMixin.jsxParseAttribute (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4653:23)\n    at TypeScriptParserMixin.jsxParseOpeningElementAfterName (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4667:28)\n    at TypeScriptParserMixin.jsxParseOpeningElementAfterName (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10043:18)\n    at TypeScriptParserMixin.jsxParseOpeningElementAt (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4662:17)\n    at TypeScriptParserMixin.jsxParseElementAt (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4686:33)\n    at TypeScriptParserMixin.jsxParseElementAt (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4698:32)\n    at TypeScriptParserMixin.jsxParseElementAt (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4698:32)\n    at TypeScriptParserMixin.jsxParseElementAt (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4698:32)\n    at TypeScriptParserMixin.jsxParseElementAt (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4698:32)\n    at TypeScriptParserMixin.jsxParseElement (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4749:17)\n    at TypeScriptParserMixin.parseExprAtom (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4759:19)\n    at TypeScriptParserMixin.parseExprSubscripts (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11081:23)\n    at TypeScriptParserMixin.parseUpdate (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11066:21)\n    at TypeScriptParserMixin.parseMaybeUnary (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11046:23)\n    at TypeScriptParserMixin.parseMaybeUnary (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:9837:18)\n    at TypeScriptParserMixin.parseMaybeUnaryOrPrivate (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10899:61)\n    at TypeScriptParserMixin.parseExprOps (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10904:23)\n    at TypeScriptParserMixin.parseMaybeConditional (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10881:23)\n    at TypeScriptParserMixin.parseMaybeAssign (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10831:21)\n    at C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:9775:39\n    at TypeScriptParserMixin.tryParse (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:6907:20)\n    at TypeScriptParserMixin.parseMaybeAssign (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:9775:18)\n    at C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10800:39\n    at TypeScriptParserMixin.allowInAnd (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:12426:12)\n    at TypeScriptParserMixin.parseMaybeAssignAllowIn (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10800:17)\n    at TypeScriptParserMixin.parseMaybeAssignAllowInOrVoidPattern (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:12493:17)\n    at TypeScriptParserMixin.parseParenAndDistinguishExpression (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11675:28)\n    at TypeScriptParserMixin.parseExprAtom (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11331:23)\n    at TypeScriptParserMixin.parseExprAtom (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:4764:20)\n    at TypeScriptParserMixin.parseExprSubscripts (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11081:23)\n    at TypeScriptParserMixin.parseUpdate (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11066:21)\n    at TypeScriptParserMixin.parseMaybeUnary (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:11046:23)\n    at TypeScriptParserMixin.parseMaybeUnary (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:9837:18)\n    at TypeScriptParserMixin.parseMaybeUnaryOrPrivate (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10899:61)\n    at TypeScriptParserMixin.parseExprOps (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10904:23)\n    at TypeScriptParserMixin.parseMaybeConditional (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10881:23)\n    at TypeScriptParserMixin.parseMaybeAssign (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10831:21)\n    at TypeScriptParserMixin.parseMaybeAssign (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:9786:20)\n    at TypeScriptParserMixin.parseExpressionBase (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10784:23)\n    at C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10780:39\n    at TypeScriptParserMixin.allowInAnd (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:12421:16)\n    at TypeScriptParserMixin.parseExpression (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\@babel\\parser\\lib\\index.js:10780:17)","id":"C:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx","frame":"436|                              value={years}\n437|                              onChange={(e) => setYears(Number(e.target.value))}\n438|                              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-\n   |                                        ^","plugin":"vite:react-babel","pluginCode":"import { useState, useEffect, useRef } from 'react'\n\ninterface Paper {\n    paper_id: string\n    title: string\n    authors: string[]\n    year: number\n    abstract: string\n    url: string\n    pdf_url: string\n    source: string\n    citation_count: number\n    analysis?: {\n        contributions: string[]\n        methods: string[]\n        limitations: string[]\n        keywords: string[]\n    }\n}\n\ninterface Cluster {\n    name: string\n    papers: Paper[]\n    paper_count: number\n    keywords: string[]\n}\n\ninterface CrossPoint {\n    name: string\n    description: string\n    related_clusters: string[]\n    potential_methods: string[]\n}\n\ninterface ReportSection {\n    title: string\n    content: string\n    key_findings?: Array\u003c{ finding: string; paper: string; paper_id: string }>\n    references?: Array\u003c{ title: string; year: number }>\n}\n\ninterface ResearchResult {\n    success: boolean\n    topic: string\n    papers: Paper[]\n    clusters: Cluster[]\n    cross_points: CrossPoint[]\n    report: {\n        title: string\n        sections: ReportSection[]\n    }\n}\n\ninterface Progress {\n    state: string\n    progress: number\n    task: string\n}\n\ninterface Step {\n    type: 'thought' | 'action' | 'observation'\n    content: string\n    iteration: number\n    timestamp?: string\n}\n\ninterface TaskStep {\n    step_type: 'thought' | 'action' | 'observation'\n    content: string\n    timestamp: string\n}\n\ninterface ResearchTask {\n    task_id: string\n    name: string\n    description: string\n    status: 'pending' | 'in_progress' | 'completed' | 'failed'\n    steps?: TaskStep[]\n    start_time?: string\n    end_time?: string\n}\n\nexport function ResearchAssistant() {\n    const [topic, setTopic] = useState('')\n    const [years, setYears] = useState(2)\n    const [maxPapers, setMaxPapers] = useState(30)\n    const [loading, setLoading] = useState(false)\n    const [progress, setProgress] = useState\u003cProgress | null>(null)\n    const [steps, setSteps] = useState\u003cStep[]>([])\n    const [result, setResult] = useState\u003cResearchResult | null>(null)\n    const [error, setError] = useState\u003cstring | null>(null)\n    const [tasks, setTasks] = useState\u003cResearchTask[]>([])\n    const [expandedTasks, setExpandedTasks] = useState\u003cSet\u003cstring>>(new Set())\n    \n    const [selectedPaper, setSelectedPaper] = useState\u003cPaper | null>(null)\n    const [pdfUrl, setPdfUrl] = useState\u003cstring | null>(null)\n    \n    const wsRef = useRef\u003cWebSocket | null>(null)\n\n    useEffect(() => {\n        return () => {\n            if (wsRef.current) {\n                wsRef.current.close()\n            }\n        }\n    }, [])\n\n    const toggleTaskExpand = (taskId: string) => {\n        setExpandedTasks(prev => {\n            const newSet = new Set(prev)\n            if (newSet.has(taskId)) {\n                newSet.delete(taskId)\n            } else {\n                newSet.add(taskId)\n            }\n            return newSet\n        })\n    }\n\n    const downloadReportAsText = (result: ResearchResult) => {\n        let text = `${result.report?.title || 'ç ”ç©¶æŠ¥å‘Š'}\\n\\n`\n        \n        result.report?.sections?.forEach(section => {\n            text += `\\n${section.title}\\n${'='.repeat(section.title.length)}\\n`\n            text += `${section.content}\\n`\n            \n            if (section.key_findings && section.key_findings.length > 0) {\n                text += '\\nä¸»è¦å‘çŽ°:\\n'\n                section.key_findings.forEach(finding => {\n                    text += `  - ${finding.finding} [${finding.paper}]\\n`\n                })\n            }\n        })\n        \n        const blob = new Blob([text], { type: 'text/plain;charset=utf-8' })\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `${result.topic || 'research_report'}.txt`\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        URL.revokeObjectURL(url)\n    }\n\n    const downloadReportAsMarkdown = (result: ResearchResult) => {\n        let md = `# ${result.report?.title || 'ç ”ç©¶æŠ¥å‘Š'}\\n\\n`\n        \n        result.report?.sections?.forEach((section, idx) => {\n            md += `\\n## ${section.title}\\n\\n`\n            md += `${section.content}\\n`\n            \n            if (section.key_findings && section.key_findings.length > 0) {\n                md += '\\n### ä¸»è¦å‘çŽ°\\n\\n'\n                section.key_findings.forEach(finding => {\n                    md += `- ${finding.finding} [${finding.paper}]\\n`\n                })\n            }\n        })\n        \n        md += '\\n---\\n\\n## å‚è€ƒæ–‡çŒ®\\n\\n'\n        result.papers?.slice(0, 20).forEach((paper, idx) => {\n            md += `${idx + 1}. ${paper.title}. ${paper.authors?.join(', ')}. (${paper.year}). ${paper.source}.\\n`\n        })\n        \n        const blob = new Blob([md], { type: 'text/markdown;charset=utf-8' })\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `${result.topic || 'research_report'}.md`\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        URL.revokeObjectURL(url)\n    }\n\n    const downloadReportAsHTML = (result: ResearchResult) => {\n        let html = `\u003c!DOCTYPE html>\n\u003chtml>\n\u003chead>\n    \u003cmeta charset=\"UTF-8\">\n    \u003ctitle>${result.report?.title || 'ç ”ç©¶æŠ¥å‘Š'}\u003c/title>\n    \u003cstyle>\n        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }\n        h1 { color: #1a5fb4; border-bottom: 2px solid #1a5fb4; padding-bottom: 10px; }\n        h2 { color: #2c3e50; margin-top: 30px; }\n        h3 { color: #34495e; }\n        .finding { background: #f8f9fa; padding: 10px; border-left: 4px solid #1a5fb4; margin: 10px 0; }\n        .reference { font-size: 0.9em; color: #666; margin: 5px 0; }\n    \u003c/style>\n\u003c/head>\n\u003cbody>\n    \u003ch1>${result.report?.title || 'ç ”ç©¶æŠ¥å‘Š'}\u003c/h1>`\n        \n        result.report?.sections?.forEach(section => {\n            html += `\n    \u003ch2>${section.title}\u003c/h2>\n    \u003cp>${section.content.replace(/\\n/g, '\u003cbr>')}\u003c/p>`\n            \n            if (section.key_findings && section.key_findings.length > 0) {\n                html += `\n    \u003ch3>ä¸»è¦å‘çŽ°\u003c/h3>`\n                section.key_findings.forEach(finding => {\n                    html += `\n    \u003cdiv class=\"finding\">${finding.finding} \u003cspan style=\"color: #1a5fb4;\">[${finding.paper}]\u003c/span>\u003c/div>`\n                })\n            }\n        })\n        \n        html += `\n    \u003ch2>å‚è€ƒæ–‡çŒ®\u003c/h2>`\n        result.papers?.slice(0, 20).forEach((paper, idx) => {\n            html += `\n    \u003cdiv class=\"reference\">${idx + 1}. ${paper.title}. ${paper.authors?.join(', ')}. (${paper.year}). ${paper.source}.\u003c/div>`\n        })\n        \n        html += `\n\u003c/body>\n\u003c/html>`\n        \n        const blob = new Blob([html], { type: 'text/html;charset=utf-8' })\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `${result.topic || 'research_report'}.html`\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        URL.revokeObjectURL(url)\n    }\n\n    const startResearch = async () => {\n        if (!topic.trim()) return\n        \n        setLoading(true)\n        setError(null)\n        setResult(null)\n        setSteps([])\n        setTasks([])\n        setExpandedTasks(new Set())\n        setProgress({ state: 'searching', progress: 0, task: 'æ­£åœ¨åˆå§‹åŒ–...' })\n\n        try {\n            const wsUrl = 'ws://localhost:8000/ws/research'\n            console.log('Connecting to:', wsUrl)\n            \n            const ws = new WebSocket(wsUrl)\n            wsRef.current = ws\n\n            ws.onopen = () => {\n                console.log('WebSocket connected')\n                ws.send(JSON.stringify({\n                    type: 'start_research',\n                    topic: topic.trim(),\n                    years,\n                    max_papers: maxPapers\n                }))\n            }\n\n            ws.onmessage = (event) => {\n                const data = JSON.parse(event.data)\n                if (data.type === 'progress') {\n                    setProgress(data)\n                } else if (data.type === 'step') {\n                    setSteps(prev => [...prev, {\n                        type: data.step_type,\n                        content: data.content,\n                        iteration: prev.length + 1,\n                        timestamp: new Date().toISOString()\n                    }])\n                } else if (data.type === 'task_list') {\n                    setTasks(data.tasks)\n                    setSteps(prev => [...prev, {\n                        type: 'thought',\n                        content: 'å·²è§„åˆ’ç ”ç©¶ä»»åŠ¡åˆ—è¡¨',\n                        iteration: prev.length + 1,\n                        timestamp: new Date().toISOString()\n                    }])\n                } else if (data.type === 'task_update') {\n                    setTasks(prev => prev.map(task => \n                        task.task_id === data.task_id \n                            ? { ...task, status: data.status }\n                            : task\n                    ))\n                } else if (data.type === 'task_step') {\n                    setTasks(prev => prev.map(task => {\n                        if (task.task_id === data.task_id) {\n                            return {\n                                ...task,\n                                steps: [...(task.steps || []), {\n                                    step_type: data.step_type,\n                                    content: data.content,\n                                    timestamp: data.timestamp\n                                }]\n                            }\n                        }\n                        return task\n                    }))\n                } else if (data.type === 'complete') {\n                    setResult(data.result)\n                    setSteps(prev => [...prev, {\n                        type: 'thought',\n                        content: 'ç ”ç©¶å®Œæˆï¼',\n                        iteration: prev.length + 1,\n                        timestamp: new Date().toISOString()\n                    }])\n                    setLoading(false)\n                    ws.close()\n                } else if (data.type === 'error') {\n                    setError(data.error)\n                    setSteps(prev => [...prev, {\n                        type: 'observation',\n                        content: `é”™è¯¯: ${data.error}`,\n                        iteration: prev.length + 1,\n                        timestamp: new Date().toISOString()\n                    }])\n                    setLoading(false)\n                    ws.close()\n                }\n            }\n\n            ws.onerror = (event) => {\n                console.error('WebSocket error:', event)\n                setError('WebSocketè¿žæŽ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥åŽç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨')\n                setLoading(false)\n            }\n\n            ws.onclose = (event) => {\n                console.log('WebSocket closed:', event.code, event.reason)\n            }\n\n        } catch (e: any) {\n            console.error('Error:', e)\n            setError(e.message || 'è¿žæŽ¥é”™è¯¯')\n            setLoading(false)\n        }\n    }\n\n    const openPdf = (paper: Paper) => {\n        if (paper.pdf_url) {\n            setPdfUrl(paper.pdf_url)\n            setSelectedPaper(paper)\n        } else if (paper.url) {\n            window.open(paper.url, '_blank')\n        }\n    }\n\n    const getStateLabel = (state: string) => {\n        const labels: Record\u003cstring, string> = {\n            'planning': 'ðŸ“‹ è§„åˆ’ä»»åŠ¡',\n            'searching': 'ðŸ” æ£€ç´¢æ–‡çŒ®',\n            'analyzing': 'ðŸ“Š åˆ†æžè®ºæ–‡',\n            'clustering': 'ðŸ—‚ï¸ èšç±»åˆ†æž',\n            'synthesizing': 'ðŸ”— è¯†åˆ«äº¤å‰ç‚¹',\n            'generating_report': 'ðŸ“ ç”ŸæˆæŠ¥å‘Š',\n            'completed': 'âœ… å®Œæˆ',\n            'error': 'âŒ é”™è¯¯'\n        }\n        return labels[state] || state\n    }\n\n    const renderPapers = (papers: Paper[]) => (\n        \u003cdiv className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4\">\n            {papers.map((paper, idx) => (\n                \u003cdiv\n                    key={paper.paper_id || idx}\n                    className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer\"\n                    onClick={() => setSelectedPaper(paper)}\n                >\n                    \u003cdiv className=\"flex items-start justify-between\">\n                        \u003cdiv className=\"flex-1\">\n                            \u003ch3 className=\"font-medium text-gray-800 dark:text-white mb-1 text-sm\">\n                                {paper.title}\n                            \u003c/h3>\n                            \u003cp className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n                                {paper.authors?.slice(0, 3).join(', ')}\n                                {paper.authors && paper.authors.length > 3 && ' et al.'}\n                                {' Â· '}{paper.year}{' Â· '}\n                                \u003cspan className=\"text-blue-500\">{paper.source}\u003c/span>\n                            \u003c/p>\n                            \u003cp className=\"text-xs text-gray-600 dark:text-gray-400 line-clamp-2\">\n                                {paper.abstract?.substring(0, 150)}...\n                            \u003c/p>\n                        \u003c/div>\n                        \u003cdiv className=\"text-right ml-3\">\n                            \u003cdiv className=\"text-lg font-bold text-blue-500\">\n                                {paper.citation_count}\n                            \u003c/div>\n                            \u003cdiv className=\"text-xs text-gray-400\">å¼•ç”¨\u003c/div>\n                            {paper.pdf_url && (\n                                \u003cbutton\n                                    onClick={(e) => { e.stopPropagation(); openPdf(paper); }}\n                                    className=\"mt-2 px-2 py-1 bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 rounded text-xs hover:bg-red-200 dark:hover:bg-red-800\"\n                                >\n                                    PDF\n                                \u003c/button>\n                            )}\n                        \u003c/div>\n                    \u003c/div>\n                \u003c/div>\n            ))}\n        \u003c/div>\n    )\n\n    return (\n        \u003cdiv className=\"h-full flex flex-col\">\n            \u003cdiv className=\"mb-4\">\n                \u003ch2 className=\"text-xl font-bold text-gray-800 dark:text-white mb-2\">\n                    ðŸ”¬ æ·±åº¦ç ”ç©¶åŠ©æ‰‹\n                \u003c/h2>\n                \u003cp className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    å…¨æµç¨‹æ‰§è¡Œï¼šä»»åŠ¡è§„åˆ’ â†’ å¤šæºæ£€ç´¢ â†’ è®ºæ–‡åˆ†æž â†’ ä¸»é¢˜èšç±» â†’ è¯†åˆ«äº¤å‰ç‚¹ â†’ ç”ŸæˆæŠ¥å‘Š\n                \u003c/p>\n            \u003c/div>\n\n            \u003cdiv className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4\">\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3\">\n                    \u003cdiv className=\"md:col-span-2\">\n                        \u003clabel className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                            ç ”ç©¶ä¸»é¢˜\n                        \u003c/label>\n                        \u003cinput\n                            type=\"text\"\n                            value={topic}\n                            onChange={(e) => setTopic(e.target.value)}\n                            placeholder=\"å¦‚ï¼šAI for Climate Modeling\"\n                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n                            disabled={loading}\n                        />\n                    \u003c/div>\n                    \u003cdiv>\n                        \u003clabel className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                            å¹´é™\n                        \u003c/label>\n                        \u003cselect\n                            value={years}\n                            onChange={(e) => setYears(Number(e.target.value))}\n                            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-","loc":{"line":438,"column":38,"index":15915}}
              try {
                const { ErrorOverlay } = await import("/@vite/client")
                document.body.appendChild(new ErrorOverlay(error))
              } catch {
                const h = (tag, text) => {
                  const el = document.createElement(tag)
                  el.textContent = text
                  return el
                }
                document.body.appendChild(h('h1', 'Internal Server Error'))
                document.body.appendChild(h('h2', error.message))
                document.body.appendChild(h('pre', error.stack))
                document.body.appendChild(h('p', '(Error overlay failed to load)'))
              }
            </script>
          </head>
          <body>
          </body>
        </html>
      