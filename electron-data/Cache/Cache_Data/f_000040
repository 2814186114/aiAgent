import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/PPTGenerator.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=9443a960"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=9443a960"; const useState = __vite__cjsImport3_react["useState"];
import PptxGenJS from "/node_modules/.vite/deps/pptxgenjs.js?v=9443a960";
export function PPTGenerator() {
  _s();
  const [request, setRequest] = useState("ç”Ÿæˆæœ¬å‘¨ç»„ä¼šæ±‡æŠ¥PPT");
  const [outline, setOutline] = useState(null);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);
  const generateOutline = async () => {
    if (!request.trim()) return;
    setIsLoading(true);
    setError(null);
    try {
      const response = await fetch("http://localhost:8000/generate-ppt", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ user_request: request })
      });
      if (!response.ok) {
        throw new Error("ç”ŸæˆPPTå¤§çº²å¤±è´¥");
      }
      const data = await response.json();
      if (data.success) {
        setOutline(data.outline);
      } else {
        setError(data.error || "ç”ŸæˆPPTå¤§çº²å¤±è´¥");
      }
    } catch (err) {
      setError(err instanceof Error ? err.message : "ç½‘ç»œé”™è¯¯");
    } finally {
      setIsLoading(false);
    }
  };
  const updateSectionTitle = (index, newTitle) => {
    if (!outline) return;
    const newSections = [...outline.sections];
    newSections[index] = { ...newSections[index], title: newTitle };
    setOutline({ ...outline, sections: newSections });
  };
  const updateSectionBullet = (sectionIndex, bulletIndex, newBullet) => {
    if (!outline) return;
    const newSections = [...outline.sections];
    const newBullets = [...newSections[sectionIndex].bullets];
    newBullets[bulletIndex] = newBullet;
    newSections[sectionIndex] = { ...newSections[sectionIndex], bullets: newBullets };
    setOutline({ ...outline, sections: newSections });
  };
  const addBullet = (sectionIndex) => {
    if (!outline) return;
    const newSections = [...outline.sections];
    newSections[sectionIndex].bullets.push("æ–°è¦ç‚¹");
    setOutline({ ...outline, sections: newSections });
  };
  const removeBullet = (sectionIndex, bulletIndex) => {
    if (!outline) return;
    const newSections = [...outline.sections];
    newSections[sectionIndex].bullets.splice(bulletIndex, 1);
    setOutline({ ...outline, sections: newSections });
  };
  const downloadPPT = () => {
    if (!outline) return;
    const pptx = new PptxGenJS();
    pptx.layout = "LAYOUT_WIDE";
    const titleSlide = pptx.addSlide();
    titleSlide.addText(outline.title, {
      x: 0.5,
      y: 1.5,
      w: "90%",
      h: 1,
      fontSize: 44,
      bold: true,
      color: "363636",
      align: "center"
    });
    titleSlide.addText("Academic Assistant Agent", {
      x: 0.5,
      y: 3.5,
      w: "90%",
      h: 0.5,
      fontSize: 18,
      color: "666666",
      align: "center"
    });
    outline.sections.forEach((section) => {
      const slide = pptx.addSlide();
      slide.addText(section.title, {
        x: 0.5,
        y: 0.5,
        w: "90%",
        h: 0.8,
        fontSize: 32,
        bold: true,
        color: "363636"
      });
      if (section.bullets.length > 0) {
        slide.addText(section.bullets.map((bullet) => ({ text: bullet })), {
          x: 0.8,
          y: 1.8,
          w: "85%",
          h: 4,
          fontSize: 20,
          color: "363636",
          bullet: { indent: 15 }
        });
      }
    });
    pptx.writeFile({ fileName: `${outline.title}.pptx` });
  };
  return /* @__PURE__ */ jsxDEV("div", { className: "bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6", children: [
    /* @__PURE__ */ jsxDEV("h2", { className: "text-2xl font-bold mb-4 text-gray-800 dark:text-white", children: "ðŸ“Š PPT ç”Ÿæˆå™¨" }, void 0, false, {
      fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
      lineNumber: 160,
      columnNumber: 13
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "mb-6", children: [
      /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "è¾“å…¥ä½ çš„éœ€æ±‚" }, void 0, false, {
        fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
        lineNumber: 163,
        columnNumber: 17
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex gap-3", children: [
        /* @__PURE__ */ jsxDEV(
          "input",
          {
            type: "text",
            value: request,
            onChange: (e) => setRequest(e.target.value),
            placeholder: "ä¾‹å¦‚ï¼šç”Ÿæˆæœ¬å‘¨ç»„ä¼šæ±‡æŠ¥PPT",
            className: "flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",
            disabled: isLoading
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
            lineNumber: 167,
            columnNumber: 21
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: generateOutline,
            disabled: isLoading || !request.trim(),
            className: "px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",
            children: isLoading ? "ç”Ÿæˆä¸­..." : "ç”Ÿæˆå¤§çº²"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
            lineNumber: 175,
            columnNumber: 21
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
        lineNumber: 166,
        columnNumber: 17
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
      lineNumber: 162,
      columnNumber: 13
    }, this),
    error && /* @__PURE__ */ jsxDEV("div", { className: "mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300", children: error }, void 0, false, {
      fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
      lineNumber: 186,
      columnNumber: 7
    }, this),
    outline && /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "border-b border-gray-200 dark:border-gray-600 pb-4", children: [
        /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "PPT æ ‡é¢˜" }, void 0, false, {
          fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
          lineNumber: 194,
          columnNumber: 25
        }, this),
        /* @__PURE__ */ jsxDEV(
          "input",
          {
            type: "text",
            value: outline.title,
            onChange: (e) => setOutline({ ...outline, title: e.target.value }),
            className: "w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white font-medium"
          },
          void 0,
          false,
          {
            fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
            lineNumber: 197,
            columnNumber: 25
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
        lineNumber: 193,
        columnNumber: 21
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-medium text-gray-800 dark:text-white", children: "å¹»ç¯ç‰‡å†…å®¹" }, void 0, false, {
          fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
          lineNumber: 206,
          columnNumber: 25
        }, this),
        outline.sections.map(
          (section, sectionIndex) => /* @__PURE__ */ jsxDEV("div", { className: "border border-gray-200 dark:border-gray-600 rounded-lg p-4", children: [
            /* @__PURE__ */ jsxDEV("div", { className: "mb-4", children: [
              /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: [
                "ç¬¬ ",
                sectionIndex + 1,
                " é¡µ - æ ‡é¢˜"
              ] }, void 0, true, {
                fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                lineNumber: 210,
                columnNumber: 37
              }, this),
              /* @__PURE__ */ jsxDEV(
                "input",
                {
                  type: "text",
                  value: section.title,
                  onChange: (e) => updateSectionTitle(sectionIndex, e.target.value),
                  className: "w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white"
                },
                void 0,
                false,
                {
                  fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                  lineNumber: 213,
                  columnNumber: 37
                },
                this
              )
            ] }, void 0, true, {
              fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
              lineNumber: 209,
              columnNumber: 33
            }, this),
            /* @__PURE__ */ jsxDEV("div", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxDEV("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300", children: "è¦ç‚¹" }, void 0, false, {
                fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                lineNumber: 222,
                columnNumber: 37
              }, this),
              section.bullets.map(
                (bullet, bulletIndex) => /* @__PURE__ */ jsxDEV("div", { className: "flex gap-2", children: [
                  /* @__PURE__ */ jsxDEV(
                    "input",
                    {
                      type: "text",
                      value: bullet,
                      onChange: (e) => updateSectionBullet(sectionIndex, bulletIndex, e.target.value),
                      className: "flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white"
                    },
                    void 0,
                    false,
                    {
                      fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                      lineNumber: 227,
                      columnNumber: 45
                    },
                    this
                  ),
                  /* @__PURE__ */ jsxDEV(
                    "button",
                    {
                      onClick: () => removeBullet(sectionIndex, bulletIndex),
                      className: "px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",
                      children: "åˆ é™¤"
                    },
                    void 0,
                    false,
                    {
                      fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                      lineNumber: 233,
                      columnNumber: 45
                    },
                    this
                  )
                ] }, bulletIndex, true, {
                  fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                  lineNumber: 226,
                  columnNumber: 15
                }, this)
              ),
              /* @__PURE__ */ jsxDEV(
                "button",
                {
                  onClick: () => addBullet(sectionIndex),
                  className: "px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",
                  children: "+ æ·»åŠ è¦ç‚¹"
                },
                void 0,
                false,
                {
                  fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
                  lineNumber: 241,
                  columnNumber: 37
                },
                this
              )
            ] }, void 0, true, {
              fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
              lineNumber: 221,
              columnNumber: 33
            }, this)
          ] }, sectionIndex, true, {
            fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
            lineNumber: 208,
            columnNumber: 11
          }, this)
        )
      ] }, void 0, true, {
        fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
        lineNumber: 205,
        columnNumber: 21
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "pt-6 border-t border-gray-200 dark:border-gray-600", children: /* @__PURE__ */ jsxDEV(
        "button",
        {
          onClick: downloadPPT,
          className: "w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",
          children: "ðŸ“¥ ä¸‹è½½ PPT æ–‡ä»¶"
        },
        void 0,
        false,
        {
          fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
          lineNumber: 253,
          columnNumber: 25
        },
        this
      ) }, void 0, false, {
        fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
        lineNumber: 252,
        columnNumber: 21
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
      lineNumber: 192,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx",
    lineNumber: 159,
    columnNumber: 5
  }, this);
}
_s(PPTGenerator, "i20mcfzBQNrV+/xdKLoBrHGpw7Q=");
_c = PPTGenerator;
var _c;
$RefreshReg$(_c, "PPTGenerator");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Users/Lin/Documents/trae_projects/AgentPaper/src/PPTGenerator.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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SSxXQUFVLHNEQUNYO0FBQUEsUUFBQztBQUFBO0FBQUEsVUFDRyxTQUFTUztBQUFBQSxVQUNULFdBQVU7QUFBQSxVQUFzRztBQUFBO0FBQUEsUUFGcEg7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BS0EsS0FOSjtBQUFBO0FBQUE7QUFBQTtBQUFBLGFBT0E7QUFBQSxTQW5FSjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBb0VBO0FBQUEsT0FyR1I7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQXVHQTtBQUVSO0FBQUMxQyxHQXZPZUQsY0FBWTtBQUFBLEtBQVpBO0FBQVksSUFBQXNFO0FBQUEsYUFBQUEsSUFBQSIsIm5hbWVzIjpbInVzZVN0YXRlIiwiUHB0eEdlbkpTIiwiUFBUR2VuZXJhdG9yIiwiX3MiLCJyZXF1ZXN0Iiwic2V0UmVxdWVzdCIsIm91dGxpbmUiLCJzZXRPdXRsaW5lIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImdlbmVyYXRlT3V0bGluZSIsInRyaW0iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlcl9yZXF1ZXN0Iiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsImVyciIsIm1lc3NhZ2UiLCJ1cGRhdGVTZWN0aW9uVGl0bGUiLCJpbmRleCIsIm5ld1RpdGxlIiwibmV3U2VjdGlvbnMiLCJzZWN0aW9ucyIsInRpdGxlIiwidXBkYXRlU2VjdGlvbkJ1bGxldCIsInNlY3Rpb25JbmRleCIsImJ1bGxldEluZGV4IiwibmV3QnVsbGV0IiwibmV3QnVsbGV0cyIsImJ1bGxldHMiLCJhZGRCdWxsZXQiLCJwdXNoIiwicmVtb3ZlQnVsbGV0Iiwic3BsaWNlIiwiZG93bmxvYWRQUFQiLCJwcHR4IiwibGF5b3V0IiwidGl0bGVTbGlkZSIsImFkZFNsaWRlIiwiYWRkVGV4dCIsIngiLCJ5IiwidyIsImgiLCJmb250U2l6ZSIsImJvbGQiLCJjb2xvciIsImFsaWduIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJzbGlkZSIsImxlbmd0aCIsIm1hcCIsImJ1bGxldCIsInRleHQiLCJpbmRlbnQiLCJ3cml0ZUZpbGUiLCJmaWxlTmFtZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsIl9jIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlBQVEdlbmVyYXRvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcHR4R2VuSlMgZnJvbSAncHB0eGdlbmpzJ1xuXG5pbnRlcmZhY2UgUFBUU2VjdGlvbiB7XG4gICAgdGl0bGU6IHN0cmluZ1xuICAgIGJ1bGxldHM6IHN0cmluZ1tdXG59XG5cbmludGVyZmFjZSBQUFRPdXRsaW5lIHtcbiAgICB0aXRsZTogc3RyaW5nXG4gICAgc2VjdGlvbnM6IFBQVFNlY3Rpb25bXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUFBUR2VuZXJhdG9yKCkge1xuICAgIGNvbnN0IFtyZXF1ZXN0LCBzZXRSZXF1ZXN0XSA9IHVzZVN0YXRlKCfnlJ/miJDmnKzlkajnu4TkvJrmsYfmiqVQUFQnKVxuICAgIGNvbnN0IFtvdXRsaW5lLCBzZXRPdXRsaW5lXSA9IHVzZVN0YXRlPFBQVE91dGxpbmUgfCBudWxsPihudWxsKVxuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgICBjb25zdCBnZW5lcmF0ZU91dGxpbmUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghcmVxdWVzdC50cmltKCkpIHJldHVyblxuICAgICAgICBcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgICAgIHNldEVycm9yKG51bGwpXG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dlbmVyYXRlLXBwdCcsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJfcmVxdWVzdDogcmVxdWVzdCB9KSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+eUn+aIkFBQVOWkp+e6suWksei0pScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBzZXRPdXRsaW5lKGRhdGEub3V0bGluZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoZGF0YS5lcnJvciB8fCAn55Sf5oiQUFBU5aSn57qy5aSx6LSlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+e9kee7nOmUmeivrycpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVTZWN0aW9uVGl0bGUgPSAoaW5kZXg6IG51bWJlciwgbmV3VGl0bGU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoIW91dGxpbmUpIHJldHVyblxuICAgICAgICBjb25zdCBuZXdTZWN0aW9ucyA9IFsuLi5vdXRsaW5lLnNlY3Rpb25zXVxuICAgICAgICBuZXdTZWN0aW9uc1tpbmRleF0gPSB7IC4uLm5ld1NlY3Rpb25zW2luZGV4XSwgdGl0bGU6IG5ld1RpdGxlIH1cbiAgICAgICAgc2V0T3V0bGluZSh7IC4uLm91dGxpbmUsIHNlY3Rpb25zOiBuZXdTZWN0aW9ucyB9KVxuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVNlY3Rpb25CdWxsZXQgPSAoc2VjdGlvbkluZGV4OiBudW1iZXIsIGJ1bGxldEluZGV4OiBudW1iZXIsIG5ld0J1bGxldDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICghb3V0bGluZSkgcmV0dXJuXG4gICAgICAgIGNvbnN0IG5ld1NlY3Rpb25zID0gWy4uLm91dGxpbmUuc2VjdGlvbnNdXG4gICAgICAgIGNvbnN0IG5ld0J1bGxldHMgPSBbLi4ubmV3U2VjdGlvbnNbc2VjdGlvbkluZGV4XS5idWxsZXRzXVxuICAgICAgICBuZXdCdWxsZXRzW2J1bGxldEluZGV4XSA9IG5ld0J1bGxldFxuICAgICAgICBuZXdTZWN0aW9uc1tzZWN0aW9uSW5kZXhdID0geyAuLi5uZXdTZWN0aW9uc1tzZWN0aW9uSW5kZXhdLCBidWxsZXRzOiBuZXdCdWxsZXRzIH1cbiAgICAgICAgc2V0T3V0bGluZSh7IC4uLm91dGxpbmUsIHNlY3Rpb25zOiBuZXdTZWN0aW9ucyB9KVxuICAgIH1cblxuICAgIGNvbnN0IGFkZEJ1bGxldCA9IChzZWN0aW9uSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoIW91dGxpbmUpIHJldHVyblxuICAgICAgICBjb25zdCBuZXdTZWN0aW9ucyA9IFsuLi5vdXRsaW5lLnNlY3Rpb25zXVxuICAgICAgICBuZXdTZWN0aW9uc1tzZWN0aW9uSW5kZXhdLmJ1bGxldHMucHVzaCgn5paw6KaB54K5JylcbiAgICAgICAgc2V0T3V0bGluZSh7IC4uLm91dGxpbmUsIHNlY3Rpb25zOiBuZXdTZWN0aW9ucyB9KVxuICAgIH1cblxuICAgIGNvbnN0IHJlbW92ZUJ1bGxldCA9IChzZWN0aW9uSW5kZXg6IG51bWJlciwgYnVsbGV0SW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoIW91dGxpbmUpIHJldHVyblxuICAgICAgICBjb25zdCBuZXdTZWN0aW9ucyA9IFsuLi5vdXRsaW5lLnNlY3Rpb25zXVxuICAgICAgICBuZXdTZWN0aW9uc1tzZWN0aW9uSW5kZXhdLmJ1bGxldHMuc3BsaWNlKGJ1bGxldEluZGV4LCAxKVxuICAgICAgICBzZXRPdXRsaW5lKHsgLi4ub3V0bGluZSwgc2VjdGlvbnM6IG5ld1NlY3Rpb25zIH0pXG4gICAgfVxuXG4gICAgY29uc3QgZG93bmxvYWRQUFQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghb3V0bGluZSkgcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcHR4ID0gbmV3IFBwdHhHZW5KUygpXG4gICAgICAgIFxuICAgICAgICBwcHR4LmxheW91dCA9ICdMQVlPVVRfV0lERSdcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRpdGxlU2xpZGUgPSBwcHR4LmFkZFNsaWRlKClcbiAgICAgICAgdGl0bGVTbGlkZS5hZGRUZXh0KG91dGxpbmUudGl0bGUsIHtcbiAgICAgICAgICAgIHg6IDAuNSxcbiAgICAgICAgICAgIHk6IDEuNSxcbiAgICAgICAgICAgIHc6ICc5MCUnLFxuICAgICAgICAgICAgaDogMSxcbiAgICAgICAgICAgIGZvbnRTaXplOiA0NCxcbiAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICBjb2xvcjogJzM2MzYzNicsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcidcbiAgICAgICAgfSlcbiAgICAgICAgdGl0bGVTbGlkZS5hZGRUZXh0KCdBY2FkZW1pYyBBc3Npc3RhbnQgQWdlbnQnLCB7XG4gICAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgICB5OiAzLjUsXG4gICAgICAgICAgICB3OiAnOTAlJyxcbiAgICAgICAgICAgIGg6IDAuNSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAxOCxcbiAgICAgICAgICAgIGNvbG9yOiAnNjY2NjY2JyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJ1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgb3V0bGluZS5zZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzbGlkZSA9IHBwdHguYWRkU2xpZGUoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzbGlkZS5hZGRUZXh0KHNlY3Rpb24udGl0bGUsIHtcbiAgICAgICAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgICAgICAgeTogMC41LFxuICAgICAgICAgICAgICAgIHc6ICc5MCUnLFxuICAgICAgICAgICAgICAgIGg6IDAuOCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMzIsXG4gICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogJzM2MzYzNidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzZWN0aW9uLmJ1bGxldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNsaWRlLmFkZFRleHQoc2VjdGlvbi5idWxsZXRzLm1hcChidWxsZXQgPT4gKHsgdGV4dDogYnVsbGV0IH0pKSwge1xuICAgICAgICAgICAgICAgICAgICB4OiAwLjgsXG4gICAgICAgICAgICAgICAgICAgIHk6IDEuOCxcbiAgICAgICAgICAgICAgICAgICAgdzogJzg1JScsXG4gICAgICAgICAgICAgICAgICAgIGg6IDQsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAyMCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICczNjM2MzYnLFxuICAgICAgICAgICAgICAgICAgICBidWxsZXQ6IHsgaW5kZW50OiAxNSB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHBwdHgud3JpdGVGaWxlKHsgZmlsZU5hbWU6IGAke291dGxpbmUudGl0bGV9LnBwdHhgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi00IHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LXdoaXRlXCI+8J+TiiBQUFQg55Sf5oiQ5ZmoPC9oMj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICDovpPlhaXkvaDnmoTpnIDmsYJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZXF1ZXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZXF1ZXN0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5L6L5aaC77ya55Sf5oiQ5pys5ZGo57uE5Lya5rGH5oqlUFBUXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC00IHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Z2VuZXJhdGVPdXRsaW5lfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCAhcmVxdWVzdC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICfnlJ/miJDkuK0uLi4nIDogJ+eUn+aIkOWkp+e6sid9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1yZWQtNTAgZGFyazpiZy1yZWQtOTAwLzIwIGJvcmRlciBib3JkZXItcmVkLTIwMCBkYXJrOmJvcmRlci1yZWQtODAwIHJvdW5kZWQtbGcgdGV4dC1yZWQtNzAwIGRhcms6dGV4dC1yZWQtMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtvdXRsaW5lICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCBwYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFBUIOagh+mimFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17b3V0bGluZS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE91dGxpbmUoeyAuLi5vdXRsaW5lLCB0aXRsZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC13aGl0ZSBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC13aGl0ZVwiPuW5u+eBr+eJh+WGheWuuTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICB7b3V0bGluZS5zZWN0aW9ucy5tYXAoKHNlY3Rpb24sIHNlY3Rpb25JbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzZWN0aW9uSW5kZXh9IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg56ysIHtzZWN0aW9uSW5kZXggKyAxfSDpobUgLSDmoIfpophcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlY3Rpb24udGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVTZWN0aW9uVGl0bGUoc2VjdGlvbkluZGV4LCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOimgeeCuVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmJ1bGxldHMubWFwKChidWxsZXQsIGJ1bGxldEluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2J1bGxldEluZGV4fSBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2J1bGxldH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlU2VjdGlvbkJ1bGxldChzZWN0aW9uSW5kZXgsIGJ1bGxldEluZGV4LCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC1sZyBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlQnVsbGV0KHNlY3Rpb25JbmRleCwgYnVsbGV0SW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXJlZC02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDliKDpmaRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGRCdWxsZXQoc2VjdGlvbkluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmVlbi02MDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyDmt7vliqDopoHngrlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtNiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtkb3dubG9hZFBQVH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNiBweS0zIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JlZW4tNzAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OlIOS4i+i9vSBQUFQg5paH5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICApXG59Il0sImZpbGUiOiJDOi9Vc2Vycy9MaW4vRG9jdW1lbnRzL3RyYWVfcHJvamVjdHMvQWdlbnRQYXBlci9zcmMvUFBUR2VuZXJhdG9yLnRzeCJ9