
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8" />
            <title>Error</title>
            <script type="module">
              const error = {"message":"Transform failed with 1 error:\nC:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx:431:25: ERROR: The character \"}\" is not valid inside a JSX element","stack":"    at failureErrorWithLog (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\esbuild\\lib\\main.js:1472:15)\n    at C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\esbuild\\lib\\main.js:755:50\n    at responseCallbacks.\u003ccomputed> (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\esbuild\\lib\\main.js:622:9)\n    at handleIncomingPacket (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\esbuild\\lib\\main.js:677:12)\n    at Socket.readFromStdout (C:\\Users\\Lin\\Documents\\trae_projects\\AgentPaper\\node_modules\\esbuild\\lib\\main.js:600:7)\n    at Socket.emit (node:events:519:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at Pipe.onStreamRead (node:internal/stream_base_commons:191:23)","id":"C:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx","frame":"\nThe character \"}\" is not valid inside a JSX element\n429|              )}\n430|                              \u003c/div>\n431|                          )}\n   |                           ^\n432|  \n433|                          {activeView === 'clusters' &&\n","plugin":"vite:esbuild","pluginCode":"import * as RefreshRuntime from \"/@react-refresh\";\nconst inWebWorker = typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n\nlet prevRefreshReg;\nlet prevRefreshSig;\n\nif (import.meta.hot && !inWebWorker) {\n  if (!window.$RefreshReg$) {\n    throw new Error(\n      \"@vitejs/plugin-react can't detect preamble. Something is wrong.\"\n    );\n  }\n\n  prevRefreshReg = window.$RefreshReg$;\n  prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = RefreshRuntime.getRefreshReg(\"C:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx\");\n  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;\n}\n\nvar _s = $RefreshSig$();import { useState, useEffect, useRef } from 'react';\n\ninterface Paper {\n  paper_id: string;\n  title: string;\n  authors: string[];\n  year: number;\n  abstract: string;\n  url: string;\n  pdf_url: string;\n  source: string;\n  citation_count: number;\n  analysis?: {\n    contributions: string[];\n    methods: string[];\n    limitations: string[];\n    keywords: string[];\n  };\n}\n\ninterface Cluster {\n  name: string;\n  papers: Paper[];\n  paper_count: number;\n  keywords: string[];\n}\n\ninterface CrossPoint {\n  name: string;\n  description: string;\n  related_clusters: string[];\n  potential_methods: string[];\n}\n\ninterface ReportSection {\n  title: string;\n  content: string;\n  key_findings?: Array\u003c{finding: string;paper: string;paper_id: string;}>;\n  references?: Array\u003c{title: string;year: number;}>;\n}\n\ninterface ResearchResult {\n  success: boolean;\n  topic: string;\n  papers: Paper[];\n  clusters: Cluster[];\n  cross_points: CrossPoint[];\n  report: {\n    title: string;\n    sections: ReportSection[];\n  };\n}\n\ninterface Progress {\n  state: string;\n  progress: number;\n  task: string;\n}\n\ninterface Step {\n  type: 'thought' | 'action' | 'observation';\n  content: string;\n  iteration: number;\n  timestamp?: string;\n}\n\nexport function ResearchAssistant() {_s();\n  const [topic, setTopic] = useState('');\n  const [years, setYears] = useState(2);\n  const [maxPapers, setMaxPapers] = useState(30);\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState\u003cProgress | null>(null);\n  const [steps, setSteps] = useState\u003cStep[]>([]);\n  const [result, setResult] = useState\u003cResearchResult | null>(null);\n  const [error, setError] = useState\u003cstring | null>(null);\n\n  const [selectedPaper, setSelectedPaper] = useState\u003cPaper | null>(null);\n  const [activeView, setActiveView] = useState\u003c'papers' | 'clusters' | 'graph' | 'report' | 'thoughts'>('papers');\n  const [pdfUrl, setPdfUrl] = useState\u003cstring | null>(null);\n\n  const wsRef = useRef\u003cWebSocket | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, []);\n\n  const startResearch = async () => {\n    if (!topic.trim()) return;\n\n    setLoading(true);\n    setError(null);\n    setResult(null);\n    setSteps([]);\n    setProgress({ state: 'searching', progress: 0, task: 'æ­£åœ¨åˆå§‹åŒ–...' });\n\n    const addStep = (type: Step['type'], content: string, iteration: number) => {\n      setSteps((prev) => [...prev, {\n        type,\n        content,\n        iteration,\n        timestamp: new Date().toISOString()\n      }]);\n    };\n\n    try {\n      const ws = new WebSocket('ws://localhost:8000/ws/research');\n      wsRef.current = ws;\n\n      ws.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === 'progress') {\n          setProgress(data);\n          addStep('thought', data.task, steps.length + 1);\n        } else if (data.type === 'step') {\n          addStep(data.step_type, data.content, steps.length + 1);\n        } else if (data.type === 'complete') {\n          setResult(data.result);\n          addStep('thought', 'ç ”ç©¶å®Œæˆï¼', steps.length + 1);\n          setLoading(false);\n          ws.close();\n        } else if (data.type === 'error') {\n          setError(data.error);\n          addStep('observation', `é”™è¯¯: ${data.error}`, steps.length + 1);\n          setLoading(false);\n          ws.close();\n        }\n      };\n\n      ws.onerror = () => {\n        setError('WebSocketè¿žæŽ¥å¤±è´¥');\n        setLoading(false);\n      };\n\n      ws.onopen = () => {\n        ws.send(JSON.stringify({\n          type: 'start_research',\n          topic: topic.trim(),\n          years,\n          max_papers: maxPapers\n        }));\n      };\n\n    } catch (e: any) {\n      setError(e.message);\n      setLoading(false);\n    }\n  };\n\n  const openPdf = (paper: Paper) => {\n    if (paper.pdf_url) {\n      setPdfUrl(paper.pdf_url);\n      setSelectedPaper(paper);\n    } else if (paper.url) {\n      window.open(paper.url, '_blank');\n    }\n  };\n\n  const getStateLabel = (state: string) => {\n    const labels: Record\u003cstring, string> = {\n      'searching': 'ðŸ” æ£€ç´¢æ–‡çŒ®',\n      'analyzing': 'ðŸ“Š åˆ†æžè®ºæ–‡',\n      'clustering': 'ðŸ—‚ï¸ èšç±»åˆ†æž',\n      'synthesizing': 'ðŸ”— è¯†åˆ«äº¤å‰ç‚¹',\n      'generating_report': 'ðŸ“ ç”ŸæˆæŠ¥å‘Š',\n      'completed': 'âœ… å®Œæˆ',\n      'error': 'âŒ é”™è¯¯'\n    };\n    return labels[state] || state;\n  };\n\n  return (\n    \u003cdiv className=\"h-full flex flex-col\">\n            \u003cdiv className=\"mb-4\">\n                \u003ch2 className=\"text-xl font-bold text-gray-800 dark:text-white mb-2\">\n                    ðŸ”¬ æ·±åº¦ç ”ç©¶åŠ©æ‰‹\n                \u003c/h2>\n                \u003cp className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    å¤šæºæ£€ç´¢ â†’ è®ºæ–‡åˆ†æž â†’ ä¸»é¢˜èšç±» â†’ ç”ŸæˆæŠ¥å‘Š\n                \u003c/p>\n            \u003c/div>\n\n            \u003cdiv className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4\">\n                \u003cdiv className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3\">\n                    \u003cdiv className=\"md:col-span-2\">\n                        \u003clabel className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                            ç ”ç©¶ä¸»é¢˜\n                        \u003c/label>\n                        \u003cinput\n              type=\"text\"\n              value={topic}\n              onChange={(e) => setTopic(e.target.value)}\n              placeholder=\"å¦‚ï¼šAI for Climate Modeling\"\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              disabled={loading} />\n            \n                    \u003c/div>\n                    \u003cdiv>\n                        \u003clabel className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                            å¹´é™\n                        \u003c/label>\n                        \u003cselect\n              value={years}\n              onChange={(e) => setYears(Number(e.target.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              disabled={loading}>\n              \n                            \u003coption value={1}>æœ€è¿‘1å¹´\u003c/option>\n                            \u003coption value={2}>æœ€è¿‘2å¹´\u003c/option>\n                            \u003coption value={3}>æœ€è¿‘3å¹´\u003c/option>\n                            \u003coption value={5}>æœ€è¿‘5å¹´\u003c/option>\n                        \u003c/select>\n                    \u003c/div>\n                    \u003cdiv>\n                        \u003clabel className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                            è®ºæ–‡æ•°é‡\n                        \u003c/label>\n                        \u003cselect\n              value={maxPapers}\n              onChange={(e) => setMaxPapers(Number(e.target.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              disabled={loading}>\n              \n                            \u003coption value={20}>20ç¯‡\u003c/option>\n                            \u003coption value={30}>30ç¯‡\u003c/option>\n                            \u003coption value={50}>50ç¯‡\u003c/option>\n                            \u003coption value={80}>80ç¯‡\u003c/option>\n                        \u003c/select>\n                    \u003c/div>\n                \u003c/div>\n                \n                \u003cbutton\n          onClick={startResearch}\n          disabled={loading || !topic.trim()}\n          className=\"w-full py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium\">\n          \n                    {loading ? 'ç ”ç©¶è¿›è¡Œä¸­...' : 'ðŸš€ å¼€å§‹æ·±åº¦ç ”ç©¶'}\n                \u003c/button>\n            \u003c/div>\n\n            {progress && loading &&\n      \u003cdiv className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 mb-4\">\n                    \u003cdiv className=\"flex items-center justify-between mb-2\">\n                        \u003cspan className=\"font-medium text-blue-700 dark:text-blue-300\">\n                            {getStateLabel(progress.state)}\n                        \u003c/span>\n                        \u003cspan className=\"text-sm text-blue-600 dark:text-blue-400\">\n                            {progress.progress}%\n                        \u003c/span>\n                    \u003c/div>\n                    \u003cdiv className=\"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2\">\n                        \u003cdiv\n            className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n            style={{ width: `${progress.progress}%` }} />\n          \n                    \u003c/div>\n                    \u003cp className=\"text-sm text-blue-600 dark:text-blue-400 mt-2\">\n                        {progress.task}\n                    \u003c/p>\n                \u003c/div>\n      }\n\n            {error &&\n      \u003cdiv className=\"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800 mb-4 text-red-700 dark:text-red-300\">\n                    âŒ {error}\n                \u003c/div>\n      }\n\n            {result &&\n      \u003cdiv className=\"flex-1 overflow-hidden flex flex-col\">\n                    \u003cdiv className=\"flex gap-2 mb-3 border-b border-gray-200 dark:border-gray-700 pb-2 flex-wrap\">\n                        \u003cbutton\n            onClick={() => setActiveView('papers')}\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n            activeView === 'papers' ?\n            'bg-blue-500 text-white' :\n            'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300'}`\n            }>\n            \n                            ðŸ“„ è®ºæ–‡åˆ—è¡¨ ({result.papers.length})\n                        \u003c/button>\n                        \u003cbutton\n            onClick={() => setActiveView('clusters')}\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n            activeView === 'clusters' ?\n            'bg-blue-500 text-white' :\n            'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300'}`\n            }>\n            \n                            ðŸ—‚ï¸ ç ”ç©¶æ–¹å‘ ({result.clusters.length})\n                        \u003c/button>\n                        \u003cbutton\n            onClick={() => setActiveView('graph')}\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n            activeView === 'graph' ?\n            'bg-blue-500 text-white' :\n            'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300'}`\n            }>\n            \n                            ðŸ”— çŸ¥è¯†å›¾è°±\n                        \u003c/button>\n                        \u003cbutton\n            onClick={() => setActiveView('report')}\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n            activeView === 'report' ?\n            'bg-blue-500 text-white' :\n            'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300'}`\n            }>\n            \n                            ðŸ“ ç ”ç©¶æŠ¥å‘Š\n                        \u003c/button>\n                        {steps.length > 0 &&\n          \u003cbutton\n            onClick={() => setActiveView('thoughts')}\n            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n            activeView === 'thoughts' ?\n            'bg-purple-500 text-white' :\n            'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300'}`\n            }>\n            \n                                ðŸ’­ æ€è€ƒè¿‡ç¨‹ ({steps.length})\n                            \u003c/button>\n          }\n                    \u003c/div>\n\n                    \u003cdiv className=\"flex-1 overflow-auto\">\n                        {activeView === 'thoughts' &&\n          \u003cdiv className=\"space-y-3\">\n                                {steps.map((step, idx) =>\n            \u003cdiv\n              key={idx}\n              className={`p-4 rounded-lg border ${\n              step.type === 'thought' ?\n              'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800' :\n              step.type === 'action' ?\n              'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800' :\n              'bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600'}`\n              }>\n              \n                                        \u003cdiv className=\"flex items-center gap-2 mb-2\">\n                                            \u003cspan className=\"text-xs font-medium px-2 py-0.5 rounded-full\">\n                                                {step.type === 'thought' ? 'ðŸ’­ æ€è€ƒ' : step.type === 'action' ? 'âš¡ è¡ŒåŠ¨' : 'ðŸ‘ï¸ è§‚å¯Ÿ'}\n                                            \u003c/span>\n                                            \u003cspan className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                æ­¥éª¤ {step.iteration}\n                                            \u003c/span>\n                                            {step.timestamp &&\n                \u003cspan className=\"text-xs text-gray-400 ml-auto\">\n                                                    {new Date(step.timestamp).toLocaleTimeString()}\n                                                \u003c/span>\n                }\n                                        \u003c/div>\n                                        \u003cp className=\"text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n                                            {step.content}\n                                        \u003c/p>\n                                    \u003c/div>\n            )}\n                            \u003c/div>\n          }\n                            \u003cdiv className=\"space-y-3\">\n                                {result.papers.map((paper, idx) =>\n            \u003cdiv\n              key={paper.paper_id || idx}\n              className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer\"\n              onClick={() => setSelectedPaper(paper)}>\n              \n                                        \u003cdiv className=\"flex items-start justify-between\">\n                                            \u003cdiv className=\"flex-1\">\n                                                \u003ch3 className=\"font-medium text-gray-800 dark:text-white mb-1\">\n                                                    {paper.title}\n                                                \u003c/h3>\n                                                \u003cp className=\"text-sm text-gray-500 dark:text-gray-400 mb-2\">\n                                                    {paper.authors?.slice(0, 3).join(', ')}\n                                                    {paper.authors && paper.authors.length > 3 && ' et al.'}\n                                                    {' Â· '}{paper.year}{' Â· '}\n                                                    \u003cspan className=\"text-blue-500\">{paper.source}\u003c/span>\n                                                \u003c/p>\n                                                \u003cp className=\"text-xs text-gray-600 dark:text-gray-400 line-clamp-2\">\n                                                    {paper.abstract?.substring(0, 200)}...\n                                                \u003c/p>\n                                                {paper.analysis?.contributions &&\n                  \u003cdiv className=\"mt-2 flex flex-wrap gap-1\">\n                                                        {paper.analysis.contributions.slice(0, 2).map((c, i) =>\n                    \u003cspan key={i} className=\"px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded text-xs\">\n                                                                {c.substring(0, 30)}...\n                                                            \u003c/span>\n                    )}\n                                                    \u003c/div>\n                  }\n                                            \u003c/div>\n                                            \u003cdiv className=\"text-right ml-4\">\n                                                \u003cdiv className=\"text-lg font-bold text-blue-500\">\n                                                    {paper.citation_count}\n                                                \u003c/div>\n                                                \u003cdiv className=\"text-xs text-gray-400\">å¼•ç”¨\u003c/div>\n                                                {paper.pdf_url &&\n                  \u003cbutton\n                    onClick={(e) => {e.stopPropagation();openPdf(paper);}}\n                    className=\"mt-2 px-2 py-1 bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300 rounded text-xs hover:bg-red-200 dark:hover:bg-red-800\">\n                    \n                                                        PDF\n                                                    \u003c/button>\n                  }\n                                            \u003c/div>\n                                        \u003c/div>\n                                    \u003c/div>\n            )}\n                            \u003c/div>\n                        )}\n\n                        {activeView === 'clusters' &&\n          \u003cdiv className=\"space-y-4\">\n                                {result.clusters.map((cluster, idx) =>\n            \u003cdiv key={idx} className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700\">\n                                        \u003cdiv className=\"flex items-center justify-between mb-3\">\n                                            \u003ch3 className=\"font-bold text-gray-800 dark:text-white\">\n                                                {cluster.name}\n                                            \u003c/h3>\n                                            \u003cspan className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-sm\">\n                                                {cluster.paper_count} ç¯‡è®ºæ–‡\n                                            \u003c/span>\n                                        \u003c/div>\n                                        \u003cdiv className=\"flex flex-wrap gap-2 mb-3\">\n                                            {cluster.keywords?.slice(0, 5).map((kw, i) =>\n                \u003cspan key={i} className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs\">\n                                                    {kw}\n                                                \u003c/span>\n                )}\n                                        \u003c/div>\n                                        \u003cdiv className=\"space-y-2\">\n                                            {cluster.papers?.slice(0, 3).map((paper, i) =>\n                \u003cdiv key={i} className=\"text-sm text-gray-600 dark:text-gray-400 p-2 bg-gray-50 dark:bg-gray-700 rounded\">\n                                                    â€¢ {paper.title}\n                                                \u003c/div>\n                )}\n                                        \u003c/div>\n                                    \u003c/div>\n            )}\n                                \n                                {result.cross_points && result.cross_points.length > 0 &&\n            \u003cdiv className=\"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800\">\n                                        \u003ch3 className=\"font-bold text-purple-700 dark:text-purple-300 mb-3\">\n                                            ðŸ”— ç ”ç©¶äº¤å‰ç‚¹\n                                        \u003c/h3>\n                                        {result.cross_points.map((cp, idx) =>\n              \u003cdiv key={idx} className=\"mb-3 p-3 bg-white dark:bg-gray-800 rounded-lg\">\n                                                \u003cdiv className=\"font-medium text-gray-800 dark:text-white mb-1\">\n                                                    {cp.name}\n                                                \u003c/div>\n                                                \u003cp className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                                    {cp.description}\n                                                \u003c/p>\n                                                \u003cdiv className=\"mt-2 flex flex-wrap gap-1\">\n                                                    {cp.related_clusters?.map((rc, i) =>\n                  \u003cspan key={i} className=\"px-2 py-0.5 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs\">\n                                                            {rc}\n                                                        \u003c/span>\n                  )}\n                                                \u003c/div>\n                                            \u003c/div>\n              )}\n                                    \u003c/div>\n            }\n                            \u003c/div>\n          }\n\n                        {activeView === 'graph' &&\n          \u003cdiv className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700\">\n                                \u003ch3 className=\"font-bold text-gray-800 dark:text-white mb-4\">\n                                    æ¦‚å¿µå…³ç³»å›¾è°±\n                                \u003c/h3>\n                                \u003cdiv className=\"h-96 bg-gray-50 dark:bg-gray-700 rounded-lg flex items-center justify-center\">\n                                    \u003cdiv className=\"text-center text-gray-400\">\n                                        \u003cdiv className=\"text-4xl mb-2\">ðŸ”—\u003c/div>\n                                        \u003cp>çŸ¥è¯†å›¾è°±å¯è§†åŒ–\u003c/p>\n                                        \u003cp className=\"text-sm\">ï¼ˆéœ€è¦é›†æˆ D3.js æˆ– Cytoscapeï¼‰\u003c/p>\n                                    \u003c/div>\n                                \u003c/div>\n                                \u003cdiv className=\"mt-4 grid grid-cols-2 md:grid-cols-4 gap-3\">\n                                    \u003cdiv className=\"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                                        \u003cdiv className=\"text-2xl font-bold text-blue-500\">{result.papers.length}\u003c/div>\n                                        \u003cdiv className=\"text-sm text-gray-500\">è®ºæ–‡æ€»æ•°\u003c/div>\n                                    \u003c/div>\n                                    \u003cdiv className=\"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n                                        \u003cdiv className=\"text-2xl font-bold text-green-500\">{result.clusters.length}\u003c/div>\n                                        \u003cdiv className=\"text-sm text-gray-500\">ç ”ç©¶æ–¹å‘\u003c/div>\n                                    \u003c/div>\n                                    \u003cdiv className=\"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\n                                        \u003cdiv className=\"text-2xl font-bold text-purple-500\">{result.cross_points?.length || 0}\u003c/div>\n                                        \u003cdiv className=\"text-sm text-gray-500\">äº¤å‰ç‚¹\u003c/div>\n                                    \u003c/div>\n                                    \u003cdiv className=\"text-center p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg\">\n                                        \u003cdiv className=\"text-2xl font-bold text-orange-500\">\n                                            {result.papers.reduce((sum, p) => sum + (p.citation_count || 0), 0)}\n                                        \u003c/div>\n                                        \u003cdiv className=\"text-sm text-gray-500\">æ€»å¼•ç”¨æ•°\u003c/div>\n                                    \u003c/div>\n                                \u003c/div>\n                            \u003c/div>\n          }\n\n                        {activeView === 'report' && result.report &&\n          \u003cdiv className=\"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700\">\n                                \u003ch2 className=\"text-xl font-bold text-gray-800 dark:text-white mb-4\">\n                                    {result.report.title}\n                                \u003c/h2>\n                                \n                                {result.report.sections?.map((section, idx) =>\n            \u003cdiv key={idx} className=\"mb-6\">\n                                        \u003ch3 className=\"text-lg font-bold text-gray-700 dark:text-gray-200 mb-2 border-b border-gray-200 dark:border-gray-700 pb-1\">\n                                            {section.title}\n                                        \u003c/h3>\n                                        \u003cp className=\"text-gray-600 dark:text-gray-400 whitespace-pre-wrap\">\n                                            {section.content}\n                                        \u003c/p>\n                                        \n                                        {section.key_findings && section.key_findings.length > 0 &&\n              \u003cdiv className=\"mt-3 space-y-2\">\n                                                {section.key_findings.map((finding, i) =>\n                \u003cdiv key={i} className=\"p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm\">\n                                                        \u003cspan className=\"text-gray-700 dark:text-gray-300\">\n                                                            â€¢ {finding.finding}\n                                                        \u003c/span>\n                                                        \u003cspan className=\"text-xs text-blue-500 ml-2 cursor-pointer hover:underline\">\n                                                            [{finding.paper?.substring(0, 30)}...]\n                                                        \u003c/span>\n                                                    \u003c/div>\n                )}\n                                            \u003c/div>\n              }\n                                        \n                                        {section.references && section.references.length > 0 &&\n              \u003cdiv className=\"mt-3 text-xs text-gray-400\">\n                                                å‚è€ƒæ–‡çŒ®: {section.references.slice(0, 3).map((r) => r.title?.substring(0, 20)).join('; ')}...\n                                            \u003c/div>\n              }\n                                    \u003c/div>\n            )}\n                            \u003c/div>\n          }\n                    \u003c/div>\n                \u003c/div>\n      }\n\n            {!result && !loading &&\n      \u003cdiv className=\"flex-1 flex items-center justify-center text-gray-400 dark:text-gray-500\">\n                    \u003cdiv className=\"text-center\">\n                        \u003cdiv className=\"text-6xl mb-4\">ðŸ”¬\u003c/div>\n                        \u003cp className=\"text-lg mb-2\">è¾“å…¥ç ”ç©¶ä¸»é¢˜å¼€å§‹æ·±åº¦è°ƒç ”\u003c/p>\n                        \u003cp className=\"text-sm\">\n                            ç³»ç»Ÿå°†è‡ªåŠ¨æ£€ç´¢å¤šä¸ªæ•°æ®åº“ã€åˆ†æžè®ºæ–‡ã€èšç±»ç ”ç©¶æ–¹å‘ã€ç”ŸæˆæŠ¥å‘Š\n                        \u003c/p>\n                    \u003c/div>\n                \u003c/div>\n      }\n\n            {pdfUrl && selectedPaper &&\n      \u003cdiv className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n                    \u003cdiv className=\"bg-white dark:bg-gray-800 rounded-lg w-full max-w-5xl h-5/6 flex flex-col\">\n                        \u003cdiv className=\"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700\">\n                            \u003ch3 className=\"font-medium text-gray-800 dark:text-white truncate\">\n                                {selectedPaper.title}\n                            \u003c/h3>\n                            \u003cbutton\n              onClick={() => {setPdfUrl(null);setSelectedPaper(null);}}\n              className=\"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600\">\n              \n                                å…³é—­\n                            \u003c/button>\n                        \u003c/div>\n                        \u003cdiv className=\"flex-1\">\n                            \u003ciframe\n              src={pdfUrl}\n              className=\"w-full h-full\"\n              title=\"PDF Preview\" />\n            \n                        \u003c/div>\n                    \u003c/div>\n                \u003c/div>\n      }\n        \u003c/div>);\n\n}_s(ResearchAssistant, \"aJATSuL/xzSIlC+28i8WuldqdX0=\");_c = ResearchAssistant;var _c;$RefreshReg$(_c, \"ResearchAssistant\");\n\nif (import.meta.hot && !inWebWorker) {\n  window.$RefreshReg$ = prevRefreshReg;\n  window.$RefreshSig$ = prevRefreshSig;\n}\n\n\nif (import.meta.hot && !inWebWorker) {\n  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {\n    RefreshRuntime.registerExportsForReactRefresh(\"C:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx\", currentExports);\n    import.meta.hot.accept((nextExports) => {\n      if (!nextExports) return;\n      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate(\"C:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx\", currentExports, nextExports);\n      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);\n    });\n  });\n}\n","loc":{"file":"C:/Users/Lin/Documents/trae_projects/AgentPaper/src/ResearchAssistant.tsx","line":412,"column":0}}
              try {
                const { ErrorOverlay } = await import("/@vite/client")
                document.body.appendChild(new ErrorOverlay(error))
              } catch {
                const h = (tag, text) => {
                  const el = document.createElement(tag)
                  el.textContent = text
                  return el
                }
                document.body.appendChild(h('h1', 'Internal Server Error'))
                document.body.appendChild(h('h2', error.message))
                document.body.appendChild(h('pre', error.stack))
                document.body.appendChild(h('p', '(Error overlay failed to load)'))
              }
            </script>
          </head>
          <body>
          </body>
        </html>
      